# 15.2.1 节练习

## 练习 15.1

> 什么是虚成员？

解答：

虚成员是基类中声明且定义的，并且基类希望自己的派生类能够实现自己版本的成员函数。虚成员使用关键字 `virtual` 进行修饰。

## 练习 15.2

> `protected` 访问说明符与 `private` 有何区别？

解答：

声明为 `protected` 的成员可以被派生类直接访问，而声明为 `private` 的成员不能被任何其他类直接访问。派生类也不行。

## 练习 15.3

> 定义你自己的 `Quote` 类和 `print_total` 函数。

解答：

```C++
class Quote {
public:
    Quote() = default;
    Quote(const std::string& bn, double up) :
        book_no(bn), unit_price(up) {  }
    std::string isbn() const { return book_no; }
    virtual double net_price(std::size_t amount) const { return unit_price * amount; }
    virtual ~Quote();
protected:
    double unit_price { 0.0 };
private:
    std::string book_no { "NULL" };
};

double print_total(std::ostream& os, const Quote& item, std::size_t amount)
{
    double ret = item.net_price(amount);
    os << "ISBN: " << item.isbn() " | ";
    os << "#Sold: " << amount << " | ";
    os << "#Income: " << ret * amount << std::endl;
    return ret;
}
```

# 15.2.2 节练习

## 练习 15.4

> 下面哪条声明语句是不正确的？请解释原因。

```C++
class Base { ... };
(a) class Derived : public Derived { ... };
(b) class Derived : private Base { ... };
(c) class Derived : public  Base;
```

解答：

```C++
class Base { ... };
(a) class Derived : public Derived { ... }; // 错误：一个类不可继承其自身
(b) class Derived : private Base { ... };   // 正确：继承 Base 类
(c) class Derived : public  Base;           // 错误：声明语句中不应包含类派生列表
```

## 练习 15.5

> 定义你自己的 `Bulk_quote` 类。

解答：

```C++
class Bulk_quote : public Quote {
public:
    Bulk_quote() = default;
    Bulk_quote(const std::string bn, double up, std::size_t mq, double dc) :
        Quote(bn, up), min_quantity(mq), discount(dc) {  }
    double net_price(std::size_t amount) const override;
    ...
private:
    std::size_t min_quantity;
    double discount;
};

double Bulk_quote::net_price(std::size_t amount) const override
{
    if (amount >= min_quantity) {
        return amount * unit_price * (1 - discount);
    } else {
        return amount * unit_price;
    }
}
```